{
  "timestamp": "2025-06-27T14:33:35.845Z",
  "system_health": {
    "overall_score": 40,
    "status": "critical",
    "key_metrics": {
      "total_events": 16183,
      "success_rate": 1,
      "avg_response_time": 0,
      "error_frequency": 0.6546993758882779,
      "agent_performance": [
        {
          "agent_id": "bootstrap-policies",
          "success_rate": 1,
          "avg_response_time": 0,
          "error_count": 10595
        },
        {
          "agent_id": "rcd-bootstrap-check",
          "success_rate": 1,
          "avg_response_time": 0,
          "error_count": 0
        },
        {
          "agent_id": "rcd-core",
          "success_rate": 1,
          "avg_response_time": 0,
          "error_count": 0
        },
        {
          "agent_id": "system-doctor",
          "success_rate": 1,
          "avg_response_time": 0,
          "error_count": 0
        }
      ],
      "top_errors": [
        {
          "id": "error_0_1751034766634",
          "error_type": "validation_error_added",
          "frequency": 9406,
          "first_seen": "2025-06-27T13:33:33.512Z",
          "last_seen": "2025-06-27T14:29:35.475Z",
          "affected_agents": [
            "bootstrap-policies"
          ],
          "error_details": {
            "error": "Cannot access ${outer.item.path} for ${inner.operation.operation}: ${inner.operation.error}",
            "event": "validation_error_added",
            "total_errors": 37
          },
          "context_patterns": {
            "error": "Cannot access ${outer.item.path} for ${inner.operation.operation}: ${inner.operation.error}",
            "event": "validation_error_added",
            "total_errors": 37
          },
          "severity": "critical"
        },
        {
          "id": "error_1_1751034766635",
          "error_type": "optional_module_missing",
          "frequency": 792,
          "first_seen": "2025-06-27T13:12:50.604Z",
          "last_seen": "2025-06-27T14:29:37.445Z",
          "affected_agents": [
            "bootstrap-policies"
          ],
          "error_details": {
            "error": "${opt_modules.item.error}",
            "event": "optional_module_missing",
            "module": "${opt_modules.item.name}"
          },
          "context_patterns": {
            "error": "${opt_modules.item.error}",
            "event": "optional_module_missing",
            "module": "${opt_modules.item.name}"
          },
          "severity": "critical"
        },
        {
          "id": "error_2_1751034766635",
          "error_type": "validation_error_added",
          "frequency": 660,
          "first_seen": "2025-06-27T13:33:45.602Z",
          "last_seen": "2025-06-27T14:29:36.525Z",
          "affected_agents": [
            "bootstrap-policies"
          ],
          "error_details": {
            "error": "Critical module missing: ${modules.item.name} - ${modules.item.error}",
            "event": "validation_error_added",
            "total_errors": 37
          },
          "context_patterns": {
            "error": "Critical module missing: ${modules.item.name} - ${modules.item.error}",
            "event": "validation_error_added",
            "total_errors": 37
          },
          "severity": "critical"
        },
        {
          "id": "error_3_1751034766635",
          "error_type": "validation_error_added",
          "frequency": 468,
          "first_seen": "2025-06-27T12:11:20.076Z",
          "last_seen": "2025-06-27T12:11:29.342Z",
          "affected_agents": [
            "bootstrap-policies"
          ],
          "error_details": {
            "error": "Cannot access ${item.path} for ${operation.operation}: ${operation.error}",
            "event": "validation_error_added",
            "total_errors": 37
          },
          "context_patterns": {
            "error": "Cannot access ${item.path} for ${operation.operation}: ${operation.error}",
            "event": "validation_error_added",
            "total_errors": 37
          },
          "severity": "critical"
        },
        {
          "id": "error_4_1751034766635",
          "error_type": "optional_module_missing",
          "frequency": 88,
          "first_seen": "2025-06-27T12:11:30.342Z",
          "last_seen": "2025-06-27T12:59:25.171Z",
          "affected_agents": [
            "bootstrap-policies"
          ],
          "error_details": {
            "error": "${item.error}",
            "event": "optional_module_missing",
            "module": "${item.name}"
          },
          "context_patterns": {
            "error": "${item.error}",
            "event": "optional_module_missing",
            "module": "${item.name}"
          },
          "severity": "critical"
        },
        {
          "id": "error_5_1751034766635",
          "error_type": "validation_error_added",
          "frequency": 44,
          "first_seen": "2025-06-27T12:11:29.470Z",
          "last_seen": "2025-06-27T12:11:30.324Z",
          "affected_agents": [
            "bootstrap-policies"
          ],
          "error_details": {
            "error": "Critical module missing: ${item.name} - ${item.error}",
            "event": "validation_error_added",
            "total_errors": 37
          },
          "context_patterns": {
            "error": "Critical module missing: ${item.name} - ${item.error}",
            "event": "validation_error_added",
            "total_errors": 37
          },
          "severity": "critical"
        },
        {
          "id": "error_6_1751034766635",
          "error_type": "database_unhealthy",
          "frequency": 21,
          "first_seen": "2025-06-27T12:11:20.017Z",
          "last_seen": "2025-06-27T14:29:22.489Z",
          "affected_agents": [
            "bootstrap-policies"
          ],
          "error_details": {
            "error": "${input.health_result.error}",
            "event": "database_unhealthy"
          },
          "context_patterns": {
            "error": "${input.health_result.error}",
            "event": "database_unhealthy"
          },
          "severity": "critical"
        },
        {
          "id": "error_7_1751034766635",
          "error_type": "validation_error_added",
          "frequency": 17,
          "first_seen": "2025-06-27T12:11:20.035Z",
          "last_seen": "2025-06-27T14:29:22.510Z",
          "affected_agents": [
            "bootstrap-policies"
          ],
          "error_details": {
            "error": "Database unhealthy: ${input.health_result.error}",
            "event": "validation_error_added",
            "total_errors": 37
          },
          "context_patterns": {
            "error": "Database unhealthy: ${input.health_result.error}",
            "event": "validation_error_added",
            "total_errors": 37
          },
          "severity": "critical"
        }
      ]
    }
  },
  "errors_found": [
    {
      "id": "error_0_1751034766626",
      "error_type": "validation_error_added",
      "frequency": 9406,
      "first_seen": "2025-06-27T13:33:33.512Z",
      "last_seen": "2025-06-27T14:29:35.475Z",
      "affected_agents": [
        "bootstrap-policies"
      ],
      "error_details": {
        "error": "Cannot access ${outer.item.path} for ${inner.operation.operation}: ${inner.operation.error}",
        "event": "validation_error_added",
        "total_errors": 37
      },
      "context_patterns": {
        "error": "Cannot access ${outer.item.path} for ${inner.operation.operation}: ${inner.operation.error}",
        "event": "validation_error_added",
        "total_errors": 37
      },
      "severity": "critical"
    },
    {
      "id": "error_1_1751034766626",
      "error_type": "optional_module_missing",
      "frequency": 792,
      "first_seen": "2025-06-27T13:12:50.604Z",
      "last_seen": "2025-06-27T14:29:37.445Z",
      "affected_agents": [
        "bootstrap-policies"
      ],
      "error_details": {
        "error": "${opt_modules.item.error}",
        "event": "optional_module_missing",
        "module": "${opt_modules.item.name}"
      },
      "context_patterns": {
        "error": "${opt_modules.item.error}",
        "event": "optional_module_missing",
        "module": "${opt_modules.item.name}"
      },
      "severity": "critical"
    },
    {
      "id": "error_2_1751034766626",
      "error_type": "validation_error_added",
      "frequency": 660,
      "first_seen": "2025-06-27T13:33:45.602Z",
      "last_seen": "2025-06-27T14:29:36.525Z",
      "affected_agents": [
        "bootstrap-policies"
      ],
      "error_details": {
        "error": "Critical module missing: ${modules.item.name} - ${modules.item.error}",
        "event": "validation_error_added",
        "total_errors": 37
      },
      "context_patterns": {
        "error": "Critical module missing: ${modules.item.name} - ${modules.item.error}",
        "event": "validation_error_added",
        "total_errors": 37
      },
      "severity": "critical"
    },
    {
      "id": "error_3_1751034766626",
      "error_type": "validation_error_added",
      "frequency": 468,
      "first_seen": "2025-06-27T12:11:20.076Z",
      "last_seen": "2025-06-27T12:11:29.342Z",
      "affected_agents": [
        "bootstrap-policies"
      ],
      "error_details": {
        "error": "Cannot access ${item.path} for ${operation.operation}: ${operation.error}",
        "event": "validation_error_added",
        "total_errors": 37
      },
      "context_patterns": {
        "error": "Cannot access ${item.path} for ${operation.operation}: ${operation.error}",
        "event": "validation_error_added",
        "total_errors": 37
      },
      "severity": "critical"
    },
    {
      "id": "error_4_1751034766626",
      "error_type": "optional_module_missing",
      "frequency": 88,
      "first_seen": "2025-06-27T12:11:30.342Z",
      "last_seen": "2025-06-27T12:59:25.171Z",
      "affected_agents": [
        "bootstrap-policies"
      ],
      "error_details": {
        "error": "${item.error}",
        "event": "optional_module_missing",
        "module": "${item.name}"
      },
      "context_patterns": {
        "error": "${item.error}",
        "event": "optional_module_missing",
        "module": "${item.name}"
      },
      "severity": "critical"
    },
    {
      "id": "error_5_1751034766626",
      "error_type": "validation_error_added",
      "frequency": 44,
      "first_seen": "2025-06-27T12:11:29.470Z",
      "last_seen": "2025-06-27T12:11:30.324Z",
      "affected_agents": [
        "bootstrap-policies"
      ],
      "error_details": {
        "error": "Critical module missing: ${item.name} - ${item.error}",
        "event": "validation_error_added",
        "total_errors": 37
      },
      "context_patterns": {
        "error": "Critical module missing: ${item.name} - ${item.error}",
        "event": "validation_error_added",
        "total_errors": 37
      },
      "severity": "critical"
    },
    {
      "id": "error_6_1751034766626",
      "error_type": "database_unhealthy",
      "frequency": 21,
      "first_seen": "2025-06-27T12:11:20.017Z",
      "last_seen": "2025-06-27T14:29:22.489Z",
      "affected_agents": [
        "bootstrap-policies"
      ],
      "error_details": {
        "error": "${input.health_result.error}",
        "event": "database_unhealthy"
      },
      "context_patterns": {
        "error": "${input.health_result.error}",
        "event": "database_unhealthy"
      },
      "severity": "critical"
    },
    {
      "id": "error_7_1751034766626",
      "error_type": "validation_error_added",
      "frequency": 17,
      "first_seen": "2025-06-27T12:11:20.035Z",
      "last_seen": "2025-06-27T14:29:22.510Z",
      "affected_agents": [
        "bootstrap-policies"
      ],
      "error_details": {
        "error": "Database unhealthy: ${input.health_result.error}",
        "event": "validation_error_added",
        "total_errors": 37
      },
      "context_patterns": {
        "error": "Database unhealthy: ${input.health_result.error}",
        "event": "validation_error_added",
        "total_errors": 37
      },
      "severity": "critical"
    }
  ],
  "failure_patterns": [
    {
      "pattern_type": "validation_error_spike",
      "description": "Massive validation error spike: 18290 errors in 48h",
      "occurrences": 18290,
      "impact_score": 0.95,
      "suggested_fix": "Review bootstrap policies and validation rules - this is critical",
      "confidence": 0.98
    },
    {
      "pattern_type": "database_health_degradation",
      "description": "Database health check failures detected",
      "occurrences": 21,
      "impact_score": 0.9,
      "suggested_fix": "Check database connection pool and query performance",
      "confidence": 0.95
    },
    {
      "pattern_type": "agent_error_clustering",
      "description": "Error clustering in 1 agents",
      "occurrences": 10595,
      "impact_score": 0.7,
      "suggested_fix": "Review agent configurations and error handling",
      "confidence": 0.85
    },
    {
      "pattern_type": "missing_module_configuration",
      "description": "Multiple optional modules missing",
      "occurrences": 880,
      "impact_score": 0.6,
      "suggested_fix": "Check module dependencies and configuration files",
      "confidence": 0.9
    }
  ],
  "ai_analysis": {
    "summary": "Detected 8 error patterns, 8 critical",
    "root_causes": [
      {
        "cause": "Multiple system errors detected",
        "confidence": 0.7,
        "evidence": [
          "8 error patterns found"
        ]
      }
    ],
    "impact_assessment": {
      "severity": "critical",
      "affected_components": [
        "bootstrap-policies"
      ],
      "user_impact": "System functionality may be degraded"
    },
    "recommended_actions": [
      {
        "action": "Review error logs and fix highest frequency issues",
        "priority": 1,
        "effort": "medium",
        "risk": "low"
      }
    ],
    "patterns_identified": [
      "validation_error_added",
      "optional_module_missing",
      "database_unhealthy"
    ]
  },
  "generated_fixes": [
    {
      "id": "intent_fix_1",
      "title": "Intent Validation Enhancement",
      "description": "Improve intent validation logic",
      "file_path": "r/system/intent-detector.r",
      "fix_type": "code_change",
      "content": "# Review intent validation rules and confidence thresholds",
      "validation_steps": [
        "Test intent detection",
        "Check validation accuracy"
      ],
      "rollback_instructions": "Revert to previous intent detection logic",
      "confidence": 0.6,
      "priority": 1
    }
  ],
  "priority_order": [
    {
      "issue": "Validation error related to accessing paths and operations",
      "priority_score": 95,
      "reasoning": "This issue has a high frequency (9406) and is marked as critical severity, indicating a significant user impact and potential system stability risk. It affects a critical agent (bootstrap-policies), suggesting high business criticality.",
      "urgency": "immediate",
      "estimated_fix_time": "1-2 hours"
    },
    {
      "issue": "Critical module missing",
      "priority_score": 90,
      "reasoning": "This issue is marked as critical severity, indicating a high user impact and potential system stability risk. It affects a critical agent (bootstrap-policies), suggesting high business criticality. The frequency (660) is relatively high.",
      "urgency": "immediate",
      "estimated_fix_time": "1-2 hours"
    },
    {
      "issue": "Database unhealthy",
      "priority_score": 85,
      "reasoning": "This issue is marked as critical severity, indicating a high user impact and potential system stability risk. It affects a critical agent (bootstrap-policies), suggesting high business criticality. The frequency (21) is relatively low, but a database issue can have far-reaching consequences.",
      "urgency": "urgent",
      "estimated_fix_time": "2-4 hours"
    },
    {
      "issue": "Optional module missing",
      "priority_score": 80,
      "reasoning": "This issue is marked as critical severity, indicating a high user impact and potential system stability risk. It affects a critical agent (bootstrap-policies), suggesting high business criticality. The frequency (792) is relatively high, but optional modules may have a lower impact than critical modules.",
      "urgency": "urgent",
      "estimated_fix_time": "2-4 hours"
    },
    {
      "issue": "Validation error related to accessing paths and operations (lower frequency)",
      "priority_score": 75,
      "reasoning": "This issue has a lower frequency (468) compared to the higher priority validation error, but it is still marked as critical severity, indicating a high user impact and potential system stability risk. It affects a critical agent (bootstrap-policies), suggesting high business criticality.",
      "urgency": "normal",
      "estimated_fix_time": "4-8 hours"
    },
    {
      "issue": "Optional module missing (lower frequency)",
      "priority_score": 70,
      "reasoning": "This issue has a lower frequency (88) compared to the higher priority optional module missing issue, but it is still marked as critical severity, indicating a high user impact and potential system stability risk. It affects a critical agent (bootstrap-policies), suggesting high business criticality.",
      "urgency": "normal",
      "estimated_fix_time": "4-8 hours"
    },
    {
      "issue": "Critical module missing (lower frequency)",
      "priority_score": 65,
      "reasoning": "This issue has a lower frequency (44) compared to the higher priority critical module missing issue, but it is still marked as critical severity, indicating a high user impact and potential system stability risk. It affects a critical agent (bootstrap-policies), suggesting high business criticality.",
      "urgency": "low",
      "estimated_fix_time": "8-16 hours"
    }
  ],
  "recommendations": [
    "Review error logs and fix highest frequency issues",
    "Investigate and resolve the validation errors related to accessing paths and missing critical modules",
    "Check and fix the issues with the database that is causing it to be unhealthy",
    "Review the optional modules that are missing and determine if they are required for proper system operation",
    "Implement better error handling and logging mechanisms to better diagnose and resolve issues"
  ],
  "execution_time_ms": 49281
}